$.fn.scrollTo=function(a,b,c){"function"==typeof b&&2==arguments.length&&(c=b,b=a);var d=$.extend({scrollTarget:a,offsetTop:50,duration:500,easing:"swing"},b);return this.each(function(){var a=$(this),b="number"==typeof d.scrollTarget?d.scrollTarget:$(d.scrollTarget),e="number"==typeof b?b:b.offset().top+a.scrollTop()-parseInt(d.offsetTop);a.animate({scrollTop:e},parseInt(d.duration),d.easing,function(){"function"==typeof c&&c.call(this)})})},angular.module("draftKitApp",["ngResource","ngSanitize","ngRoute","angucomplete-alt","ui.sortable","ui.bootstrap","firebase","xeditable"]).config(["$routeProvider",function(a){a.when("/draft",{templateUrl:"views/draft.html",controller:"MainCtrl"}).when("/board",{templateUrl:"views/board.html",controller:"MainCtrl"}).otherwise({redirectTo:"/board"})}]).run(["editableOptions",function(a){a.theme="bs3"}]),angular.module("draftKitApp").controller("MainCtrl",["$rootScope","$scope","$timeout","$filter","$firebase","$FirebaseArray","$modal",function(a,b,c,d,e,f,g){function h(){angular.forEach(b.rankings,function(a){angular.isDefined(a.draftPosition)&&b.drafted.push(a)}),b.drafted.sort(function(a,b){return a.draftPosition-b.draftPosition})}b.teams=e(new Firebase("https://draftkit.firebaseio.com/teams")).$asArray(),b.setup={rounds:10,snaking:!0,roster:{QB:1,WR:2,RB:2,TE:1,Flex:1,DST:1,K:1,BNCH:0},flexEligibility:["WR","RB","TE","K","DST","QB"]},b.drafted=[],b.comparator="aveRank",b.reverse=!1,b.teams.$loaded().then(function(){if(!b.teams.length)for(var a=0;12>a;a++){var c={name:"Player "+(a+1),id:a,pick:a};b.teams.$add(c)}b.teams.sort(function(a,b){return a.pick-b.pick}),b.rankings=e(new Firebase("https://draftkit.firebaseio.com/players")).$asArray(),b.rankings.$loaded().then(h)}),b.draft=function(){var a=d("filter")(b.rankings,function(a){return angular.isDefined(a.draftPosition)});this.player.draftPosition=a.length;var c=b.getRound(this.player.draftPosition),e=this.player.draftPosition%b.teams.length,f=0==c||c%2==0?e:b.teams.length-e-1;this.player.fantasyTeam=d("filter")(b.teams,{pick:f})[0].id,b.rankings.$save(this.player),b.drafted.push(this.player)},b.draftedSortableOptions={update:function(){c(function(){angular.forEach(b.drafted,function(a,c){var e=d("filter")(b.rankings,{name:a.name,position:a.position,team:a.team,fantasyTeam:a.fantasyTeam})[0];e.draftPosition=c,a.draftPosition=c,b.rankings.$save(a)})},0)}},b.starredSortableOptions={update:function(){c(function(){angular.forEach(d("filter")(b.rankings,{favorite:!0}),function(a,c){a.favoriteIndex=c,b.rankings.$save(a)})})}},b.undraft=function(){{var a,c=this.player;angular.forEach(b.drafted,function(b,d){return angular.equals(c,b)?void(a=d):void 0})}b.drafted.splice(a,1),this.player.draftPosition=null,this.player.fantasyTeam=null,b.rankings.$save(this.player)},b.getRound=function(a){return Math.floor(a/b.teams.length)},b.getTeam=function(a){return d("filter")(b.teams,{id:a})[0]},b.favorite=function(){this.player.favorite=!this.player.favorite,b.rankings.$save(this.player)},a.getFantasyTeam=function(){return d("filter")(b.teams,{id:this.player.fantasyTeam})[0]},b.getRoster=function(a){var c=this.team.id,e=d("filter")(b.drafted,function(b){return a?b.fantasyTeam===c&&b.position===a:b.fantasyTeam===c});return e},a.resetDraft=function(){var a=d("filter")(b.rankings,function(a){return angular.isDefined(a.draftPosition)});angular.forEach(a,function(a){a.draftPosition=null,a.fantasyTeam=null,b.rankings.$save(a)}),b.drafted=[]},a.confirm=function(a,b,c){if(!a)throw new Error("no success callback specified");var b=b||"Are you sure?",d=g.open({templateUrl:"confirmationModal.html",size:"sm",backdrop:"static",controller:function(a,b,c,d){a.displayString=c,a.ok=function(){b.close(d)},a.cancel=function(){b.dismiss(d)}},resolve:{displayString:function(){return b},context:function(){return arguments}}});d.result.then(function(){a(c)},function(){})}}]),angular.module("draftKitApp").controller("Col1Ctrl",["$scope",function(a){a.positionFilter={qb:!0,wr:!0,rb:!0,te:!0,dst:!0,k:!0},a.rankingsSearch="",a.tabs={available:{active:!0},teams:{active:!1,current:"index"},drafted:{active:!1},starred:{active:!1}}}]),angular.module("draftKitApp").controller("Col2Ctrl",["$scope",function(a){a.positionFilter={qb:!0,wr:!0,rb:!0,te:!0,dst:!0,k:!0},a.rankingsSearch="",a.tabs={available:{active:!1},drafted:{active:!0},teams:{active:!1,current:"index"},starred:{active:!1}}}]),angular.module("draftKitApp").controller("HeaderCtrl",["$scope","$modal","$timeout",function(a,b,c){a.open=function(){function d(){angular.forEach(a.teams,function(b){a.teams.$save(b)})}var e=b.open({templateUrl:"settingsModal.html",controller:function(a,b,d){a.teamSortableOptions={handle:".drag-handle",update:function(){c(function(){angular.forEach(a.teams,function(b,c){b.pick=c,a.teams.$save(b)})})}},a.teams=d,a.ok=function(){b.close()},a.cancel=function(){b.dismiss()},a.removeTeam=function(b){var b=b||this.team||void 0;a.teams.$remove(b)},a.addTeam=function(){a.teams.$add({id:(new Date).getTime().toString(),pick:a.teams.length,name:"Player "+(a.teams.length+1)})}},resolve:{teams:function(){return a.teams}}});e.result.then(function(){d()},function(){d()})},c(function(){},150)}]),angular.module("draftKitApp").controller("TeamviewCtrl",["$scope","$filter",function(a,b){a.getCount=function(a){return new Array(a)};var c=function(c){var d=[];return angular.forEach(a.setup.roster,function(e,f){angular.forEach(c,function(g){if(g.position==f){if(b("filter")(d,{pos:f}).length<e)return void(d[d.length]={pos:f,player:g})}else"Flex"===f&&e>0&&angular.forEach(c,function(c){var e=!0;angular.forEach(d,function(a){angular.equals(c,a.player)&&(e=!1)}),e&&b("filter")(d,{pos:"Flex"}).length<a.setup.roster.Flex&&-1!=a.setup.flexEligibility.indexOf(c.position)&&(d[d.length]={pos:"Flex",player:c})})});var g=b("filter")(d,{pos:f}).length;if(e>g&&"BNCH"!==f)for(;e>g;)d[d.length]={pos:f,player:void 0},g+=1}),angular.forEach(c,function(a){var b=!0;angular.forEach(d,function(c){angular.equals(a,c.player)&&(b=!1)}),b&&(d[d.length]={pos:"BNCH",player:a})}),angular.forEach(a.setup.roster,function(a,c){var e=b("filter")(d,{pos:c}).length;if(a>e)for(;a>e;)d[d.length]={pos:c,player:void 0},e+=1}),d};a.$watch(function(){return a.drafted},function(){a.roster=c(a.getRoster())},!0)}]),angular.module("draftKitApp").controller("WelcomeCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("draftKitApp").filter("isDrafted",["$filter",function(a){return function(b,c){return"all"==c?b:a("filter")(b,function(a){return c?angular.isDefined(a.draftPosition):!angular.isDefined(a.draftPosition)})}}]),angular.module("draftKitApp").filter("positionFilter",["$filter",function(a){return function(b,c){return c?a("filter")(b,function(a){switch(a.position){case"QB":return c.qb;case"WR":return c.wr;case"RB":return c.rb;case"TE":return c.te;case"DST":return c.dst;case"K":return c.k;default:return!0}}):b}}]),angular.module("draftKitApp").controller("BoardCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);